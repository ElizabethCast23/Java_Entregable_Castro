<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f172a" />
  <title>Men√∫ Restaurante</title>

  <!-- Estilos propios -->
  <link rel="stylesheet" href="style.css" />

  <!-- Toastify (toasts bonitos) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

  <!-- SweetAlert2 (modales) -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

  <noscript>
    <div style="padding:12px;background:#fee2e2;color:#991b1b;text-align:center">
      Esta aplicaci√≥n requiere JavaScript habilitado.
    </div>
  </noscript>

  <!-- ---------- Encabezado ---------- -->
  <header class="app-header" role="banner">
    <h1>Men√∫ Restaurante</h1>
    <div class="day-badge" id="etiquetaDia" aria-live="polite"></div>
  </header>

  <!-- ---------- MODAL: Presentaci√≥n + Elegir tipo de men√∫ ---------- -->
  <div id="tipoMenuModal" class="type-modal oculto" aria-modal="true" role="dialog">
    <div class="type-modal__card" role="document">
      <!-- üåü Presentaci√≥n -->
      <div class="intro">
        <h2>¬°Bienvenido(a) a <span style="color:var(--acc)">Nuestro Restaurante</span>!</h2>
        <p class="muted">
          Disfruta de nuestros platos tradicionales con el mejor sabor casero.
          Antes de continuar, elige el tipo de men√∫ que prefieres para hoy.
        </p>
        <hr style="border:none;border-top:1px solid var(--border);margin:14px 0;">
      </div>

      <!-- Selecci√≥n -->
      <h3>Elige el tipo de men√∫</h3>
      <p class="muted">Selecciona una opci√≥n para continuar tu pedido.</p>

      <div class="type-modal__options">
        <button class="type-card" data-choice="completo" type="button">
          <span class="type-card__title">Completo</span>
          <span class="type-card__desc">Entrada + Segundo + Bebida</span>
        </button>

        <button class="type-card" data-choice="medio" type="button">
          <span class="type-card__title">Medio</span>
          <span class="type-card__desc">Segundo + Bebida</span>
        </button>
      </div>

      <div class="type-modal__actions">
        <button id="cerrarTipoMenu" class="btn outline" type="button">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- ---------- Contenido (Men√∫ // Carrito) ---------- -->
  <main class="layout" role="main">
    <!-- Men√∫ -->
    <section class="menu" id="menuCompleto" aria-label="Men√∫ del d√≠a"></section>

    <!-- Carrito -->
    <aside class="cart" id="ContenidoCarrito" aria-label="Carrito de compras">
      <h2>Pedido <span id="cartBadge" class="badge"></span></h2>
      <div id="listarCarrito"></div>

      <div class="totals" aria-live="polite">
        <div>Subtotal: <strong id="subtotal">S/ 0.00</strong></div>
        <div>Total: <strong id="total">S/ 0.00</strong></div>
      </div>

      <div class="cart-actions">
        <button id="vaciarCarrito" class="btn outline" type="button">Vaciar</button>
        <button id="btnPago" class="btn primary" type="button">Continuar</button>
      </div>
    </aside>
  </main>

  <!-- ---------- Datos del cliente ---------- -->
  <section class="checkout oculto" id="checkout" aria-label="Datos del cliente">
    <h2>Datos del cliente</h2>
    <form id="formCliente" class="form" novalidate>
      <label>Nombre y apellido
        <input type="text" id="cliNombre" autocomplete="name" required />
      </label>
      <label>Tel√©fono
        <input type="tel" id="cliTelefono" autocomplete="tel" pattern="\d{7,15}" required />
      </label>
      <label>DNI
        <input type="text" id="cliDni" inputmode="numeric" pattern="\d{8}" required />
      </label>
      <label>Direcci√≥n
        <input type="text" id="cliDireccion" autocomplete="street-address" required />
      </label>

      <div class="checkout-actions">
        <button type="button" id="regresarMenu" class="btn outline">Volver</button>
        <button type="submit" class="btn success">Confirmar compra</button>
      </div>
    </form>
  </section>

  <!-- ---------- Boleta ---------- -->
  <section class="boletaPago oculto" id="boletaPago" aria-label="Boleta generada">
    <h2>Boleta</h2>
    <pre id="boletaPagoTexto" aria-live="polite"></pre>
    <div class="acciones-boleta">
      <button id="btnSeguirComprando" class="btn primary" type="button">Seguir comprando</button>
      <button id="btnTerminarCompra" class="btn outline" type="button">Terminar compra</button>
    </div>
  </section>

  <!-- ---------- Historial ---------- -->
  <section id="historial" class="oculto" aria-label="Historial de boletas">
    <h2>Gracias por tu compra</h2>
    <p class="muted">Aqu√≠ est√°n todas tus boletas generadas:</p>
    <div id="historialLista"></div>
    <button id="cerrarHistorial" class="btn" type="button">Cerrar</button>
  </section>

  <!-- ---------- Panel Administrador (todas las boletas) ---------- -->
  <section id="adminPanel" class="oculto" aria-label="Administrador">
    <h2>Administrador ‚Äî Boletas</h2>
    <p class="muted">Abre este panel con <strong>Ctrl + Shift + A</strong> o agrega <code>?admin=1</code> a la URL.</p>
    <div id="adminLista"></div>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:12px">
      <button id="adminExport" class="btn outline" type="button">Exportar JSON</button>
      <button id="adminCerrar" class="btn" type="button">Cerrar</button>
    </div>
  </section>

  <!-- Tu l√≥gica (usar despu√©s de cargar las librer√≠as) -->
  <script src="./app.js" defer></script>
</body>
</html>
